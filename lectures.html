<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è¯¦ç»†è®²è§£ - AWS CLF-C02 å­¦ä¹ ç³»ç»Ÿ</title>
    <link rel="stylesheet" href="css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        /* å¡ç‰‡ç½‘æ ¼å¸ƒå±€ */
        .lectures-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }

        .lecture-card {
            background: var(--bg-primary);
            border-radius: 12px;
            padding: 1.5rem;
            box-shadow: var(--shadow);
            transition: all 0.3s;
            cursor: pointer;
            border-left: 4px solid var(--aws-orange);
        }

        .lecture-card:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow-hover);
        }

        .lecture-card-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: 1rem;
        }

        .lecture-number {
            background: var(--aws-orange);
            color: white;
            padding: 0.3rem 0.8rem;
            border-radius: 20px;
            font-weight: 600;
            font-size: 0.9rem;
        }

        .lecture-card-title {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--text-primary);
            margin: 0.5rem 0;
            line-height: 1.4;
        }

        .lecture-preview {
            color: var(--text-secondary);
            font-size: 0.9rem;
            line-height: 1.6;
            margin: 0.8rem 0;
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .lecture-meta {
            display: flex;
            gap: 1rem;
            margin-top: 1rem;
            padding-top: 1rem;
            border-top: 1px solid var(--border-color);
            font-size: 0.85rem;
            color: var(--text-secondary);
        }

        .meta-tag {
            background: var(--bg-secondary);
            padding: 0.3rem 0.6rem;
            border-radius: 4px;
        }

        /* å¼¹çª—æ¨¡æ€æ¡† */
        .modal {
            display: none;
            position: fixed;
            z-index: 2000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.6);
            overflow-y: auto;
        }

        .modal.active {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 2rem;
        }

        .modal-content {
            background: var(--bg-primary);
            border-radius: 16px;
            max-width: 900px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
            position: relative;
        }

        .modal-header {
            position: sticky;
            top: 0;
            background: var(--bg-primary);
            padding: 2rem;
            border-bottom: 2px solid var(--border-color);
            z-index: 10;
            display: flex;
            justify-content: space-between;
            align-items: start;
        }

        .modal-title {
            font-size: 1.8rem;
            color: var(--text-primary);
            margin: 0;
            flex: 1;
        }

        .modal-close {
            background: var(--bg-secondary);
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            font-size: 1.5rem;
            cursor: pointer;
            transition: all 0.2s;
            color: var(--text-primary);
            flex-shrink: 0;
            margin-left: 1rem;
        }

        .modal-close:hover {
            background: var(--aws-orange);
            color: white;
            transform: rotate(90deg);
        }

        .modal-body {
            padding: 2rem;
        }

        .modal-body h3 {
            color: var(--aws-orange);
            margin: 1.5rem 0 1rem;
        }

        .modal-body p {
            line-height: 1.8;
            color: var(--text-primary);
            margin: 1rem 0;
        }

        .modal-body ul {
            margin: 1rem 0;
            padding-left: 2rem;
            line-height: 1.8;
        }

        .modal-body li {
            margin: 0.5rem 0;
            color: var(--text-primary);
        }

        .modal-highlights {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
            margin: 2rem 0;
        }

        .highlight-box {
            background: var(--bg-secondary);
            padding: 1.5rem;
            border-radius: 8px;
            border-left: 4px solid var(--aws-orange);
        }

        .highlight-label {
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 0.5rem;
            display: block;
        }

        .highlight-text {
            color: var(--text-secondary);
            font-size: 0.95rem;
            line-height: 1.6;
        }

        /* æœç´¢å’Œç­›é€‰å¢å¼º */
        .search-stats {
            text-align: center;
            padding: 1rem;
            color: var(--text-secondary);
            font-size: 0.95rem;
        }

        .no-results {
            text-align: center;
            padding: 4rem 2rem;
            color: var(--text-secondary);
        }

        .no-results h3 {
            font-size: 1.5rem;
            margin-bottom: 1rem;
            color: var(--text-primary);
        }

        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 768px) {
            .lectures-grid {
                grid-template-columns: 1fr;
            }

            .modal.active {
                padding: 1rem;
            }

            .modal-content {
                max-height: 95vh;
            }

            .modal-header {
                padding: 1.5rem;
            }

            .modal-body {
                padding: 1.5rem;
            }

            .modal-title {
                font-size: 1.3rem;
            }
        }

        /* åŠ è½½åŠ¨ç”» */
        .loading {
            text-align: center;
            padding: 4rem 2rem;
            color: var(--text-secondary);
        }

        .loading-spinner {
            width: 50px;
            height: 50px;
            border: 4px solid var(--border-color);
            border-top-color: var(--aws-orange);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 1rem;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- å¯¼èˆªæ  -->
        <nav class="navbar">
            <div class="nav-content">
                <div class="nav-left">
                    <h1 class="logo">â˜ï¸ AWS CLF-C02 å­¦ä¹ å¯¼èˆª</h1>
                </div>
                <div class="nav-right">
                    <a href="index.html" class="nav-link">æ¦‚å¿µæ¸…å•</a>
                    <a href="lectures.html" class="nav-link active">è¯¦ç»†è®²è§£</a>
                    <a href="resources.html" class="nav-link">å®˜æ–¹èµ„æº</a>
                    <a href="exam-prep.html" class="nav-link">è€ƒå‰å†²åˆº</a>
                    <button id="theme-toggle" class="theme-btn" title="åˆ‡æ¢ä¸»é¢˜">ğŸŒ™</button>
                </div>
            </div>
        </nav>

        <!-- é¡µé¢æ ‡é¢˜ -->
        <header class="page-header">
            <h2>ğŸ“š 97è®² IT å®æˆ˜è§£è¯´</h2>
            <p>å£è¯­åŒ–è®²è§£ Â· ç”Ÿæ´»åŒ–ç±»æ¯” Â· ç›´å‡»è€ƒç‚¹ Â· æ˜“æ··ç‚¹è¾¨æ</p>
        </header>

        <!-- æœç´¢å’Œç­›é€‰ -->
        <section class="search-section">
            <div class="search-controls">
                <input type="text" id="lecture-search" class="search-input" placeholder="ğŸ” æœç´¢è®²æ¬¡ã€æœåŠ¡æˆ–å…³é”®è¯...">
                <select id="lecture-filter" class="domain-filter">
                    <option value="all">å…¨éƒ¨è®²æ¬¡</option>
                    <option value="1-17">Part 1: åŸºç¡€æ¦‚å¿µä¸å®‰å…¨ (1-17è®²)</option>
                    <option value="18-41">Part 2: æ ¸å¿ƒæœåŠ¡æ·±åº¦ (18-41è®²)</option>
                    <option value="42-66">Part 3: ç½‘ç»œä¸ç®¡ç† (42-66è®²)</option>
                    <option value="67-97">Part 4: å…¨æ ˆè¿›é˜¶ (67-97è®²)</option>
                </select>
            </div>
        </section>

        <!-- æœç´¢ç»Ÿè®¡ -->
        <div id="search-stats" class="search-stats"></div>

        <!-- åŠ è½½æç¤º -->
        <div id="loading" class="loading">
            <div class="loading-spinner"></div>
            <p>æ­£åœ¨åŠ è½½è®²è§£æ•°æ®...</p>
        </div>

        <!-- è®²è§£å¡ç‰‡ç½‘æ ¼ -->
        <section class="lectures-content">
            <div id="lectures-grid" class="lectures-grid">
                <!-- åŠ¨æ€ç”Ÿæˆå¡ç‰‡ -->
            </div>
            <div id="no-results" class="no-results" style="display: none;">
                <h3>ğŸ˜• æ²¡æœ‰æ‰¾åˆ°åŒ¹é…çš„è®²æ¬¡</h3>
                <p>è¯•è¯•è°ƒæ•´æœç´¢å…³é”®è¯æˆ–ç­›é€‰æ¡ä»¶</p>
            </div>
        </section>

        <!-- è¯¦æƒ…å¼¹çª— -->
        <div id="lecture-modal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 id="modal-title" class="modal-title"></h2>
                    <button class="modal-close" onclick="closeModal()">Ã—</button>
                </div>
                <div class="modal-body">
                    <div id="modal-body-content"></div>
                    <div id="modal-highlights" class="modal-highlights"></div>
                </div>
            </div>
        </div>

        <!-- é¡µè„š -->
        <footer class="footer">
            <p>ğŸ“ AWS Certified Cloud Practitioner (CLF-C02) å­¦ä¹ ç³»ç»Ÿ Â· ç‰ˆæœ¬ 2.0</p>
            <p>97è®²å®Œæ•´å†…å®¹ Â· æ€»å­¦ä¹ æ—¶é•¿çº¦31.2å°æ—¶</p>
        </footer>
    </div>

    <!-- å¼•å…¥è„šæœ¬ -->
    <script src="js/lectures-data.js"></script>
    <script>
        // ä¸»é¢˜åˆ‡æ¢
        const savedTheme = localStorage.getItem('theme') || 'light';
        document.documentElement.setAttribute('data-theme', savedTheme);

        function updateThemeButton() {
            const themeBtn = document.getElementById('theme-toggle');
            if (themeBtn) {
                const currentTheme = document.documentElement.getAttribute('data-theme');
                themeBtn.textContent = currentTheme === 'dark' ? 'â˜€ï¸' : 'ğŸŒ™';
            }
        }

        const themeToggle = document.getElementById('theme-toggle');
        if (themeToggle) {
            updateThemeButton();
            themeToggle.addEventListener('click', () => {
                const currentTheme = document.documentElement.getAttribute('data-theme');
                const newTheme = currentTheme === 'light' ? 'dark' : 'light';
                document.documentElement.setAttribute('data-theme', newTheme);
                localStorage.setItem('theme', newTheme);
                updateThemeButton();
            });
        }

        // æ¸²æŸ“è®²è§£å¡ç‰‡
        function renderLectures(lectures = lecturesData) {
            const container = document.getElementById('lectures-grid');
            const noResults = document.getElementById('no-results');
            const searchStats = document.getElementById('search-stats');
            
            if (!lectures || lectures.length === 0) {
                container.innerHTML = '';
                noResults.style.display = 'block';
                searchStats.textContent = 'å…± 0 è®²';
                return;
            }

            noResults.style.display = 'none';
            searchStats.textContent = `å…± ${lectures.length} è®²`;

            container.innerHTML = lectures.map(lecture => {
                const preview = lecture.content ? 
                    lecture.content.replace(/<[^>]*>/g, '').substring(0, 150) + '...' : 
                    'ç‚¹å‡»æŸ¥çœ‹è¯¦ç»†å†…å®¹...';

                return `
                    <div class="lecture-card" onclick="openModal(${lecture.id})">
                        <div class="lecture-card-header">
                            <span class="lecture-number">ç¬¬ ${lecture.id} è®²</span>
                        </div>
                        <h3 class="lecture-card-title">${lecture.title || 'æ ‡é¢˜åŠ è½½ä¸­...'}</h3>
                        <div class="lecture-preview">${preview}</div>
                        <div class="lecture-meta">
                            ${lecture.keyTakeaway ? '<span class="meta-tag">ğŸ’¡ å…³é”®è®°å¿†ç‚¹</span>' : ''}
                            ${lecture.misconception ? '<span class="meta-tag">âŒ æ˜“æ··ç‚¹</span>' : ''}
                            ${lecture.examTips ? '<span class="meta-tag">ğŸ¯ è€ƒç‚¹æç¤º</span>' : ''}
                        </div>
                    </div>
                `;
            }).join('');
        }

        // æ‰“å¼€è¯¦æƒ…å¼¹çª—
        function openModal(lectureId) {
            const lecture = lecturesData.find(l => l.id === lectureId);
            if (!lecture) return;

            const modal = document.getElementById('lecture-modal');
            const modalTitle = document.getElementById('modal-title');
            const modalBody = document.getElementById('modal-body-content');
            const modalHighlights = document.getElementById('modal-highlights');

            modalTitle.textContent = `ç¬¬ ${lecture.id} è®² | ${lecture.title}`;
            modalBody.innerHTML = lecture.content || '<p>å†…å®¹åŠ è½½ä¸­...</p>';

            // æ¸²æŸ“å…³é”®ä¿¡æ¯
            let highlightsHtml = '';
            if (lecture.keyTakeaway) {
                highlightsHtml += `
                    <div class="highlight-box">
                        <span class="highlight-label">ğŸ’¡ å…³é”®è®°å¿†ç‚¹</span>
                        <div class="highlight-text">${lecture.keyTakeaway}</div>
                    </div>
                `;
            }
            if (lecture.misconception) {
                highlightsHtml += `
                    <div class="highlight-box">
                        <span class="highlight-label">âŒ å¸¸è§è¯¯åŒº</span>
                        <div class="highlight-text">${lecture.misconception}</div>
                    </div>
                `;
            }
            if (lecture.examTips) {
                highlightsHtml += `
                    <div class="highlight-box">
                        <span class="highlight-label">ğŸ¯ è€ƒç‚¹æç¤º</span>
                        <div class="highlight-text">${lecture.examTips}</div>
                    </div>
                `;
            }
            modalHighlights.innerHTML = highlightsHtml;

            modal.classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        // å…³é—­å¼¹çª—
        function closeModal() {
            const modal = document.getElementById('lecture-modal');
            modal.classList.remove('active');
            document.body.style.overflow = '';
        }

        // ç‚¹å‡»å¼¹çª—å¤–éƒ¨å…³é—­
        document.getElementById('lecture-modal').addEventListener('click', (e) => {
            if (e.target.id === 'lecture-modal') {
                closeModal();
            }
        });

        // ESCé”®å…³é—­å¼¹çª—
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                closeModal();
            }
        });

        // æœç´¢å’Œç­›é€‰
        function filterLectures() {
            const searchInput = document.getElementById('lecture-search');
            const filter = document.getElementById('lecture-filter');
            
            if (!searchInput || !filter) return;

            const searchTerm = searchInput.value.toLowerCase();
            const selectedRange = filter.value;

            let filtered = lecturesData;

            // æŒ‰èŒƒå›´ç­›é€‰
            if (selectedRange !== 'all') {
                const [start, end] = selectedRange.split('-').map(Number);
                filtered = filtered.filter(l => l.id >= start && l.id <= end);
            }

            // æŒ‰æœç´¢è¯ç­›é€‰
            if (searchTerm) {
                filtered = filtered.filter(l => 
                    (l.title && l.title.toLowerCase().includes(searchTerm)) ||
                    (l.content && l.content.toLowerCase().includes(searchTerm)) ||
                    (l.keyTakeaway && l.keyTakeaway.toLowerCase().includes(searchTerm)) ||
                    (l.misconception && l.misconception.toLowerCase().includes(searchTerm)) ||
                    (l.examTips && l.examTips.toLowerCase().includes(searchTerm))
                );
            }

            renderLectures(filtered);
        }

        // æ·»åŠ æœç´¢å’Œç­›é€‰äº‹ä»¶ç›‘å¬
        document.addEventListener('DOMContentLoaded', () => {
            const searchInput = document.getElementById('lecture-search');
            const filter = document.getElementById('lecture-filter');
            const loading = document.getElementById('loading');

            // æ£€æŸ¥æ•°æ®æ˜¯å¦åŠ è½½
            if (typeof lecturesData === 'undefined') {
                loading.innerHTML = `
                    <h3 style="color: #FF9900;">âš ï¸ è®²è§£æ•°æ®åŠ è½½å¤±è´¥</h3>
                    <p>è¯·ç¡®ä¿ js/lectures-data.js æ–‡ä»¶å­˜åœ¨ä¸”æ ¼å¼æ­£ç¡®</p>
                    <p style="margin-top: 1rem;">
                        <a href="index.html" style="color: #FF9900;">â† è¿”å›é¦–é¡µ</a>
                    </p>
                `;
                return;
            }

            // éšè—åŠ è½½æç¤º
            loading.style.display = 'none';

            // åˆå§‹æ¸²æŸ“
            renderLectures();

            // æ·»åŠ äº‹ä»¶ç›‘å¬
            if (searchInput) {
                searchInput.addEventListener('input', filterLectures);
            }

            if (filter) {
                filter.addEventListener('change', filterLectures);
            }

            // æ£€æŸ¥URLä¸­çš„é”šç‚¹ï¼ˆä»å…¶ä»–é¡µé¢è·³è½¬ï¼‰
            if (window.location.hash) {
                const lectureId = parseInt(window.location.hash.replace('#lecture-', ''));
                if (!isNaN(lectureId)) {
                    setTimeout(() => {
                        openModal(lectureId);
                    }, 300);
                }
            }
        });
    </script>
</body>
</html>